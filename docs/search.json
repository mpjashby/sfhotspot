[{"path":"http://pkgs.lesscrime.info/sfhotspot/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2021 sfhotspot authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"http://pkgs.lesscrime.info/sfhotspot/articles/introduction.html","id":"counting-points","dir":"Articles","previous_headings":"","what":"Counting points","title":"Introduction to sfhotspot","text":"hotspot_count() produces SF object counts number points (default) cell grid cells. functions package, can customised various ways – see Common arguments, . can plot grid cells.","code":"point_counts <- hotspot_count(memphis_robberies) ## Cell size set to 0.00524 degrees automatically point_counts ## Simple feature collection with 2926 features and 1 field ## Geometry type: POLYGON ## Dimension:     XY ## Bounding box:  xmin: -90.1261 ymin: 34.99475 xmax: -89.72786 ymax: 35.26199 ## Geodetic CRS:  WGS 84 ## # A tibble: 2,926 × 2 ##        n                                                                geometry ##  * <dbl>                                                           <POLYGON [°]> ##  1     0 ((-90.08418 34.99475, -90.07894 34.99475, -90.07894 34.99999, -90.0841… ##  2     0 ((-90.07894 34.99475, -90.0737 34.99475, -90.0737 34.99999, -90.07894 … ##  3     0 ((-90.0737 34.99475, -90.06846 34.99475, -90.06846 34.99999, -90.0737 … ##  4     0 ((-90.06846 34.99475, -90.06322 34.99475, -90.06322 34.99999, -90.0684… ##  5     0 ((-90.06322 34.99475, -90.05798 34.99475, -90.05798 34.99999, -90.0632… ##  6     0 ((-90.05798 34.99475, -90.05274 34.99475, -90.05274 34.99999, -90.0579… ##  7     0 ((-90.05274 34.99475, -90.0475 34.99475, -90.0475 34.99999, -90.05274 … ##  8     0 ((-90.0475 34.99475, -90.04226 34.99475, -90.04226 34.99999, -90.0475 … ##  9     0 ((-90.04226 34.99475, -90.03702 34.99475, -90.03702 34.99999, -90.0422… ## 10     0 ((-90.03702 34.99475, -90.03178 34.99475, -90.03178 34.99999, -90.0370… ## # ℹ 2,916 more rows ggplot() +   geom_sf(     mapping = aes(fill = n),     data = point_counts,     alpha = 0.75,     colour = NA   ) +   scale_fill_distiller(direction = 1)"},{"path":"http://pkgs.lesscrime.info/sfhotspot/articles/introduction.html","id":"calculating-kernel-density","dir":"Articles","previous_headings":"","what":"Calculating kernel density","title":"Introduction to sfhotspot","text":"hotspot_kde() function can used calculate kernel density estimates cell grid. kernel density estimation (KDE) can customised using bandwidth bandwidth_adjust arguments. function also accepts argument explained Common arguments section, . specify optional arguments, hotspot_kde() try choose reasonable default values. , can plot result.  can adjust appearance KDE layer map specifying optional arguments hotspot_kde(). particular, bandwidth_adjust argument useful controlling level detail visible density layer – use values bandwidth_adjust 1 show detail, values 1 show smoother density surface.","code":"robbery_kde <- hotspot_kde(memphis_robberies) ## Cell size set to 0.00524 degrees automatically ## Data transformed to \"WGS 84 / UTM zone 16N\" co-ordinate system. ## ℹ CRS code: \"EPSG:32616\". ## ℹ Unit of measurement: metre. ## Bandwidth set automatically based on rule of thumb. ## ℹ Bandwidth = 5,588 metres. robbery_kde ## Simple feature collection with 2926 features and 2 fields ## Geometry type: POLYGON ## Dimension:     XY ## Bounding box:  xmin: -90.1261 ymin: 34.99475 xmax: -89.72786 ymax: 35.26199 ## Geodetic CRS:  WGS 84 ## # A tibble: 2,926 × 3 ##        n   kde                                                          geometry ##  * <dbl> <dbl>                                                     <POLYGON [°]> ##  1     0  15.7 ((-90.08418 34.99475, -90.07894 34.99475, -90.07894 34.99999, -9… ##  2     0  16.9 ((-90.07894 34.99475, -90.0737 34.99475, -90.0737 34.99999, -90.… ##  3     0  18.4 ((-90.0737 34.99475, -90.06846 34.99475, -90.06846 34.99999, -90… ##  4     0  20.1 ((-90.06846 34.99475, -90.06322 34.99475, -90.06322 34.99999, -9… ##  5     0  22.5 ((-90.06322 34.99475, -90.05798 34.99475, -90.05798 34.99999, -9… ##  6     0  26.3 ((-90.05798 34.99475, -90.05274 34.99475, -90.05274 34.99999, -9… ##  7     0  31.2 ((-90.05274 34.99475, -90.0475 34.99475, -90.0475 34.99999, -90.… ##  8     0  36.6 ((-90.0475 34.99475, -90.04226 34.99475, -90.04226 34.99999, -90… ##  9     0  42.1 ((-90.04226 34.99475, -90.03702 34.99475, -90.03702 34.99999, -9… ## 10     0  47.1 ((-90.03702 34.99475, -90.03178 34.99475, -90.03178 34.99999, -9… ## # ℹ 2,916 more rows ggplot() +   geom_sf(     mapping = aes(fill = kde),     data = robbery_kde,     alpha = 0.75,     colour = NA   ) +   scale_fill_distiller(direction = 1)"},{"path":"http://pkgs.lesscrime.info/sfhotspot/articles/introduction.html","id":"common-args","dir":"Articles","previous_headings":"","what":"Common arguments","title":"Introduction to sfhotspot","text":"functions package work grid cells, can customised using one common arguments: cell_size specifies size equally spaced grid cell, using units (metres, degrees, etc.) used sf data frame given data argument. Ignored grid NULL. argument grid NULL (default), cell size calculated automatically. grid_type specifies whether grid made squares (“rect”, default) hexagons (“hex”). Ignored grid NULL. grid specifies sf data frame containing polygons, used grid counts made. quiet whether messages/warnings printed, e.g. reporting values parameters (cell_size) set automatically.","code":""},{"path":"http://pkgs.lesscrime.info/sfhotspot/articles/introduction.html","id":"automatic-cell-size-selection","dir":"Articles","previous_headings":"Common arguments","what":"Automatic cell-size selection","title":"Introduction to sfhotspot","text":"grid cell_size NULL, cell size set 50 cells shorter side grid. data SF object projected metres feet, number cells adjusted upwards cell size multiple 100.","code":""},{"path":"http://pkgs.lesscrime.info/sfhotspot/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Matt Ashby. Author, maintainer.","code":""},{"path":"http://pkgs.lesscrime.info/sfhotspot/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Ashby M (2025). sfhotspot: Hot-Spot Analysis Simple Features. R package version 1.0.0, http://pkgs.lesscrime.info/sfhotspot/.","code":"@Manual{,   title = {sfhotspot: Hot-Spot Analysis with Simple Features},   author = {Matt Ashby},   year = {2025},   note = {R package version 1.0.0},   url = {http://pkgs.lesscrime.info/sfhotspot/}, }"},{"path":"http://pkgs.lesscrime.info/sfhotspot/index.html","id":"sfhotspot-","dir":"","previous_headings":"","what":"Hot-Spot Analysis with Simple Features","title":"Hot-Spot Analysis with Simple Features","text":"sfhotspot provides functions identify understand clusters points (typically representing locations places events). functions package work produce simple features (SF) objects, means can used part modern spatial analysis R.","code":""},{"path":"http://pkgs.lesscrime.info/sfhotspot/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Hot-Spot Analysis with Simple Features","text":"can install development version sfhotspot GitHub :","code":"# install.packages(\"remotes\") remotes::install_github(\"mpjashby/sfhotspot\")"},{"path":"http://pkgs.lesscrime.info/sfhotspot/index.html","id":"functions","dir":"","previous_headings":"","what":"Functions","title":"Hot-Spot Analysis with Simple Features","text":"sfhotspot following functions. can used just supplying SF object containing points, can configured using optional arguments function. results produced hotspot_count(), hotspot_change(), hotspot_kde(), hotspot_dual_kde() hotspot_classify() can easily plotted using included methods forautoplot() autolayer(). also included datasets: memphis_robberies, containing records 2,245 robberies Memphis, TN, 2019. memphis_robberies_jan, containing data 206 robberies recorded January 2019. memphis_population, containing population counts centroids 10,393 census blocks Memphis, TN, 2020.","code":""},{"path":"http://pkgs.lesscrime.info/sfhotspot/index.html","id":"example","dir":"","previous_headings":"","what":"Example","title":"Hot-Spot Analysis with Simple Features","text":"can use hotspot_gistar() function identify cells regular grid /fewer points expected points distributed randomly. example, points represent locations personal robberies Memphis, dataset included package.","code":"# Load packages library(sf) #> Linking to GEOS 3.13.0, GDAL 3.8.5, PROJ 9.5.1; sf_use_s2() is TRUE library(sfhotspot) library(tidyverse) #> ── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ── #> ✔ dplyr     1.1.4     ✔ readr     2.1.5 #> ✔ forcats   1.0.0     ✔ stringr   1.5.1 #> ✔ ggplot2   3.5.2     ✔ tibble    3.3.0 #> ✔ lubridate 1.9.4     ✔ tidyr     1.3.1 #> ✔ purrr     1.0.4 #> ── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ── #> ✖ dplyr::filter() masks stats::filter() #> ✖ dplyr::lag()    masks stats::lag() #> ℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors   # Transform data to UTM zone 15N so that we can think in metres, not decimal  # degrees memphis_robberies_utm <- st_transform(memphis_robberies, \"EPSG:32615\")   # Identify hotspots, set all the parameters automatically by not specifying cell  # size, bandwidth, etc. memphis_robberies_htspt <- hotspot_gistar(memphis_robberies_utm, quiet = TRUE)   # Visualise the hotspots by showing only those cells that have significantly # more points than expected by chance. For those cells, show the estimated # density of robberies. memphis_robberies_htspt |>    filter(gistar > 0, pvalue < 0.05) |>    ggplot(aes(colour = kde, fill = kde)) +   geom_sf() +   scale_colour_distiller(aesthetics = c(\"colour\", \"fill\"), direction = 1) +   labs(title = \"Density of robberies in Memphis, 2019\") +   theme_void()"},{"path":"http://pkgs.lesscrime.info/sfhotspot/reference/autoplot.hspt_c.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot map of hotspot classifications — autoplot.hspt_c","title":"Plot map of hotspot classifications — autoplot.hspt_c","text":"Plot output produced hotspot_classify reasonable default values.","code":""},{"path":"http://pkgs.lesscrime.info/sfhotspot/reference/autoplot.hspt_c.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot map of hotspot classifications — autoplot.hspt_c","text":"","code":"# S3 method for class 'hspt_c' autoplot(object, ...)"},{"path":"http://pkgs.lesscrime.info/sfhotspot/reference/autoplot.hspt_c.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot map of hotspot classifications — autoplot.hspt_c","text":"object object class hspt_c, e.g. produced hotspot_classify. ... Currently ignored, may used options future.","code":""},{"path":"http://pkgs.lesscrime.info/sfhotspot/reference/autoplot.hspt_c.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot map of hotspot classifications — autoplot.hspt_c","text":"ggplot object. function returns ggplot object, meaning can control appearance plot adding calls ggplot2 functions.","code":""},{"path":"http://pkgs.lesscrime.info/sfhotspot/reference/autoplot.hspt_d.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot map of changes in grid counts — autoplot.hspt_d","title":"Plot map of changes in grid counts — autoplot.hspt_d","text":"Plot output produced hotspot_change reasonable default values.","code":""},{"path":"http://pkgs.lesscrime.info/sfhotspot/reference/autoplot.hspt_d.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot map of changes in grid counts — autoplot.hspt_d","text":"","code":"# S3 method for class 'hspt_d' autoplot(object, ...)  # S3 method for class 'hspt_d' autolayer(object, ...)"},{"path":"http://pkgs.lesscrime.info/sfhotspot/reference/autoplot.hspt_d.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot map of changes in grid counts — autoplot.hspt_d","text":"object object class hspt_d, e.g. produced hotspot_change. ... Currently ignored, may used options future.","code":""},{"path":"http://pkgs.lesscrime.info/sfhotspot/reference/autoplot.hspt_d.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot map of changes in grid counts — autoplot.hspt_d","text":"ggplot object. function returns ggplot object, meaning can control appearance plot adding calls ggplot2 functions.","code":""},{"path":"http://pkgs.lesscrime.info/sfhotspot/reference/autoplot.hspt_d.html","id":"functions","dir":"Reference","previous_headings":"","what":"Functions","title":"Plot map of changes in grid counts — autoplot.hspt_d","text":"autolayer(hspt_d): Create ggplot layer change grid counts","code":""},{"path":"http://pkgs.lesscrime.info/sfhotspot/reference/autoplot.hspt_k.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot map of kernel-density values — autoplot.hspt_k","title":"Plot map of kernel-density values — autoplot.hspt_k","text":"Plot output produced hotspot_kde reasonable default values.","code":""},{"path":"http://pkgs.lesscrime.info/sfhotspot/reference/autoplot.hspt_k.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot map of kernel-density values — autoplot.hspt_k","text":"","code":"# S3 method for class 'hspt_k' autoplot(object, ...)  # S3 method for class 'hspt_k' autolayer(object, ...)"},{"path":"http://pkgs.lesscrime.info/sfhotspot/reference/autoplot.hspt_k.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot map of kernel-density values — autoplot.hspt_k","text":"object object class hspt_k, e.g. produced hotspot_kde. ... arguments passed geom_sf, e.g. alpha.","code":""},{"path":"http://pkgs.lesscrime.info/sfhotspot/reference/autoplot.hspt_k.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot map of kernel-density values — autoplot.hspt_k","text":"ggplot object layer can used part ggplot stack. autoplot returns ggplot object, meaning can control appearance plot adding calls ggplot2 functions.","code":""},{"path":"http://pkgs.lesscrime.info/sfhotspot/reference/autoplot.hspt_k.html","id":"functions","dir":"Reference","previous_headings":"","what":"Functions","title":"Plot map of kernel-density values — autoplot.hspt_k","text":"autolayer(hspt_k): Create ggplot layer kernel-density values","code":""},{"path":"http://pkgs.lesscrime.info/sfhotspot/reference/autoplot.hspt_n.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot map of grid counts — autoplot.hspt_n","title":"Plot map of grid counts — autoplot.hspt_n","text":"Plot output produced hotspot_count reasonable default values.","code":""},{"path":"http://pkgs.lesscrime.info/sfhotspot/reference/autoplot.hspt_n.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot map of grid counts — autoplot.hspt_n","text":"","code":"# S3 method for class 'hspt_n' autoplot(object, ...)  # S3 method for class 'hspt_n' autolayer(object, ...)"},{"path":"http://pkgs.lesscrime.info/sfhotspot/reference/autoplot.hspt_n.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot map of grid counts — autoplot.hspt_n","text":"object object class hspt_n, e.g. produced hotspot_count. ... arguments passed geom_sf, e.g. alpha.","code":""},{"path":"http://pkgs.lesscrime.info/sfhotspot/reference/autoplot.hspt_n.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot map of grid counts — autoplot.hspt_n","text":"ggplot object layer can used part ggplot stack. autoplot returns ggplot object, meaning can control appearance plot adding calls ggplot2 functions.","code":""},{"path":"http://pkgs.lesscrime.info/sfhotspot/reference/autoplot.hspt_n.html","id":"functions","dir":"Reference","previous_headings":"","what":"Functions","title":"Plot map of grid counts — autoplot.hspt_n","text":"autolayer(hspt_n): Create ggplot layer grid counts","code":""},{"path":"http://pkgs.lesscrime.info/sfhotspot/reference/hotspot_change.html","id":null,"dir":"Reference","previous_headings":"","what":"Identify change in hotspots over time — hotspot_change","title":"Identify change in hotspots over time — hotspot_change","text":"Identify change number points (typically representing events) two periods (specified date) two groups (e.g. weekdays weekends).","code":""},{"path":"http://pkgs.lesscrime.info/sfhotspot/reference/hotspot_change.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Identify change in hotspots over time — hotspot_change","text":"","code":"hotspot_change(   data,   time = NULL,   boundary = NULL,   groups = NULL,   cell_size = NULL,   grid_type = \"rect\",   grid = NULL,   quiet = FALSE )"},{"path":"http://pkgs.lesscrime.info/sfhotspot/reference/hotspot_change.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Identify change in hotspots over time — hotspot_change","text":"data sf data frame containing points. time Name column data containing Date POSIXt values representing date associated point. Ignored groups NULL. argument NULL data contains single column Date POSIXt values, column used automatically. boundary single Date POSIXt value representing point points treated occurred second time period. See 'Details'. groups Name column data containing exactly two unique non-missing values, used identify whether row counted first () second () groups. groups use determined calling sort(unique(groups)). groups factor, message printed confirming value used group. See 'Details'. cell_size numeric value specifying size equally spaced grid cell, using units (metres, degrees, etc.) used sf data frame given data argument. Ignored grid NULL. argument grid NULL (default), cell size calculated automatically (see Details). grid_type character specifying whether grid made squares (\"rect\", default) hexagons (\"hex\"). Ignored grid NULL. grid sf data frame containing points containing polygons, used grid counts made. quiet set TRUE, messages reporting values parameters set automatically suppressed. default FALSE.","code":""},{"path":"http://pkgs.lesscrime.info/sfhotspot/reference/hotspot_change.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Identify change in hotspots over time — hotspot_change","text":"sf tibble regular grid cells corresponding hot-spot classifications cell. can plotted using autoplot.","code":""},{"path":"http://pkgs.lesscrime.info/sfhotspot/reference/hotspot_change.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Identify change in hotspots over time — hotspot_change","text":"function creates regular two-dimensional grid cells (unless custom grid specified grid) calculates difference number points grid cell: set point time, boundary specified, two groups points, column grouping values specified groups, mid-point dates/times present data, boundary groups NULL (default). boundary groups NULL, value boundary ignored.","code":""},{"path":"http://pkgs.lesscrime.info/sfhotspot/reference/hotspot_change.html","id":"coverage-of-the-output-data","dir":"Reference","previous_headings":"","what":"Coverage of the output data","title":"Identify change in hotspots over time — hotspot_change","text":"grid produced function covers convex hull input data layer. means result may include zero counts cells outside area data provided, misleading. handle , consider cropping output layer area data available. example, crime data particular district, crop output dataset district boundary using st_intersection.","code":""},{"path":"http://pkgs.lesscrime.info/sfhotspot/reference/hotspot_change.html","id":"automatic-cell-size-selection","dir":"Reference","previous_headings":"","what":"Automatic cell-size selection","title":"Identify change in hotspots over time — hotspot_change","text":"cell size given cell size set 50 cells shorter side grid. data SF object projected metres feet, number cells adjusted upwards cell size multiple 100.","code":""},{"path":[]},{"path":"http://pkgs.lesscrime.info/sfhotspot/reference/hotspot_change.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Identify change in hotspots over time — hotspot_change","text":"","code":"# Compare counts from the first half of the period covered by the data to # counts from the second half # \\donttest{ hotspot_change(memphis_robberies) #> Boundary point set as 09:30 hours on 02 July 2019 automatically #> Cell size set to 0.00524 degrees automatically #> Simple feature collection with 2926 features and 3 fields #> Geometry type: POLYGON #> Dimension:     XY #> Bounding box:  xmin: -90.1261 ymin: 34.99475 xmax: -89.72786 ymax: 35.26199 #> Geodetic CRS:  WGS 84 #> # A tibble: 2,926 × 4 #>    n_before n_after change                                              geometry #>  *    <dbl>   <dbl>  <dbl>                                         <POLYGON [°]> #>  1        0       0      0 ((-90.08418 34.99475, -90.07894 34.99475, -90.07894 … #>  2        0       0      0 ((-90.07894 34.99475, -90.0737 34.99475, -90.0737 34… #>  3        0       0      0 ((-90.0737 34.99475, -90.06846 34.99475, -90.06846 3… #>  4        0       0      0 ((-90.06846 34.99475, -90.06322 34.99475, -90.06322 … #>  5        0       0      0 ((-90.06322 34.99475, -90.05798 34.99475, -90.05798 … #>  6        0       0      0 ((-90.05798 34.99475, -90.05274 34.99475, -90.05274 … #>  7        0       0      0 ((-90.05274 34.99475, -90.0475 34.99475, -90.0475 34… #>  8        0       0      0 ((-90.0475 34.99475, -90.04226 34.99475, -90.04226 3… #>  9        0       0      0 ((-90.04226 34.99475, -90.03702 34.99475, -90.03702 … #> 10        0       0      0 ((-90.03702 34.99475, -90.03178 34.99475, -90.03178 … #> # ℹ 2,916 more rows # }  # Create a grouping variable, then compare counts across values of that # variable # \\donttest{ memphis_robberies$weekend <-   weekdays(memphis_robberies$date) %in% c(\"Saturday\", \"Sunday\") hotspot_change(memphis_robberies, groups = weekend) #> Comparing periods based on values of `weekend`: #> • Rows with `weekend == FALSE` used as 'before' period #> • Rows with `weekend == TRUE` used as 'after' period #> Cell size set to 0.00524 degrees automatically #> Simple feature collection with 2926 features and 3 fields #> Geometry type: POLYGON #> Dimension:     XY #> Bounding box:  xmin: -90.1261 ymin: 34.99475 xmax: -89.72786 ymax: 35.26199 #> Geodetic CRS:  WGS 84 #> # A tibble: 2,926 × 4 #>    n_before n_after change                                              geometry #>  *    <dbl>   <dbl>  <dbl>                                         <POLYGON [°]> #>  1        0       0      0 ((-90.08418 34.99475, -90.07894 34.99475, -90.07894 … #>  2        0       0      0 ((-90.07894 34.99475, -90.0737 34.99475, -90.0737 34… #>  3        0       0      0 ((-90.0737 34.99475, -90.06846 34.99475, -90.06846 3… #>  4        0       0      0 ((-90.06846 34.99475, -90.06322 34.99475, -90.06322 … #>  5        0       0      0 ((-90.06322 34.99475, -90.05798 34.99475, -90.05798 … #>  6        0       0      0 ((-90.05798 34.99475, -90.05274 34.99475, -90.05274 … #>  7        0       0      0 ((-90.05274 34.99475, -90.0475 34.99475, -90.0475 34… #>  8        0       0      0 ((-90.0475 34.99475, -90.04226 34.99475, -90.04226 3… #>  9        0       0      0 ((-90.04226 34.99475, -90.03702 34.99475, -90.03702 … #> 10        0       0      0 ((-90.03702 34.99475, -90.03178 34.99475, -90.03178 … #> # ℹ 2,916 more rows # }"},{"path":"http://pkgs.lesscrime.info/sfhotspot/reference/hotspot_classify.html","id":null,"dir":"Reference","previous_headings":"","what":"Classify hot-spots — hotspot_classify","title":"Classify hot-spots — hotspot_classify","text":"Classify cells grid based changes clustering points (typically representing events) two-dimensional regular grid time.","code":""},{"path":"http://pkgs.lesscrime.info/sfhotspot/reference/hotspot_classify.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Classify hot-spots — hotspot_classify","text":"","code":"hotspot_classify(   data,   time = NULL,   period = NULL,   start = NULL,   cell_size = NULL,   grid_type = \"rect\",   grid = NULL,   collapse = FALSE,   params = hotspot_classify_params(),   quiet = FALSE )"},{"path":"http://pkgs.lesscrime.info/sfhotspot/reference/hotspot_classify.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Classify hot-spots — hotspot_classify","text":"data sf data frame containing points. time Name column data containing Date POSIXt values representing date associated point. argument NULL data contains single column Date POSIXt values, column used automatically. period character value containing number followed unit time, e.g. example, \"12 months\" \"3.5 days\", unit time one second, minute, hour, day, week, month, quarter year (plural forms). start Date POSIXt value specifying first temporal period start. NULL (default), first period start beginning earliest date found data (period specified days, weeks, months, quarters years) earliest time found data otherwise. cell_size numeric value specifying size equally spaced grid cell, using units (metres, degrees, etc.) used sf data frame given data argument. Ignored grid NULL. argument grid NULL (default), cell size calculated automatically (see Details). grid_type character specifying whether grid made squares (\"rect\", default) hexagons (\"hex\"). Ignored grid NULL. grid sf data frame containing points containing polygons, used grid counts made. collapse range dates data multiple period, final period shorter others. case, shorter period collapsed penultimate period? params list optional parameters can affect output. list can produced easily using hotspot_classify_params helper function. quiet set TRUE, messages reporting values parameters set automatically suppressed. default FALSE.","code":""},{"path":"http://pkgs.lesscrime.info/sfhotspot/reference/hotspot_classify.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Classify hot-spots — hotspot_classify","text":"sf tibble regular grid cells corresponding hot-spot classifications cell. can plotted using autoplot. Hot-spots spatial areas contain points expected chance; cold-spots areas contain fewer points expected. Whether area hot-spot can vary time. function creates space-time cube, determines whether area hot-spot several consecutive time periods uses classify areas according whether persistent, intermittent, emerging former hot- cold-spots.","code":""},{"path":"http://pkgs.lesscrime.info/sfhotspot/reference/hotspot_classify.html","id":"hot-and-cold-spots","dir":"Reference","previous_headings":"","what":"Hot and cold spots","title":"Classify hot-spots — hotspot_classify","text":"Hot- cold-spots identified calculating Getis-Ord Gi* (gi-star) Gi* \\(Z\\)-score statistic cell regular grid time period. Cells classified follows, using parameters provided params argument: Persistent hot-/cold-spots cells hot-/cold-spots consistently time. Formally: p-value less critical_p least persistent_prop proportion time periods. Emerging hot-/cold-spots cells become hot-/cold-spots recently previously. Formally: p-value less critical_p least hotspot_prop time periods defined recent recent_prop p-value less critical_p least hotspot_prop time periods defined non-recent 1 - recent_prop. Former hot-/cold-spots cells used hot-/cold-spots recently. Formally: p-value less critical_p least hotspot_prop time periods defined non-recent 1 - recent_prop p-value less critical_p least hotspot_prop time periods defined recent recent_prop. Intermittent hot-/cold-spots cells hot-/cold-spots, frequently persistent hotspots recent/non-recent periods. Formally: p-value less critical_p least hotspot_prop time periods cell emerging former hotspot. pattern none categories apply.","code":""},{"path":"http://pkgs.lesscrime.info/sfhotspot/reference/hotspot_classify.html","id":"coverage-of-the-output-data","dir":"Reference","previous_headings":"","what":"Coverage of the output data","title":"Classify hot-spots — hotspot_classify","text":"grid produced function covers convex hull input data layer. means result may include Gi* Gi* values cells outside area data provided, misleading. handle , consider cropping output layer area data available. example, crime data particular district, crop output dataset district boundary using st_intersection.","code":""},{"path":"http://pkgs.lesscrime.info/sfhotspot/reference/hotspot_classify.html","id":"automatic-cell-size-selection","dir":"Reference","previous_headings":"","what":"Automatic cell-size selection","title":"Classify hot-spots — hotspot_classify","text":"cell size given cell size set 50 cells shorter side grid. data SF object projected metres feet, number cells adjusted upwards cell size multiple 100.","code":""},{"path":"http://pkgs.lesscrime.info/sfhotspot/reference/hotspot_classify.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Classify hot-spots — hotspot_classify","text":"Chainey, S. (2020). Understanding Crime: Analyzing Geography Crime. Redlands, CA: ESRI.","code":""},{"path":"http://pkgs.lesscrime.info/sfhotspot/reference/hotspot_classify_params.html","id":null,"dir":"Reference","previous_headings":"","what":"Control the parameters used to classify hotspots — hotspot_classify_params","title":"Control the parameters used to classify hotspots — hotspot_classify_params","text":"function allows specification parameters affect output hotspot_classify.","code":""},{"path":"http://pkgs.lesscrime.info/sfhotspot/reference/hotspot_classify_params.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Control the parameters used to classify hotspots — hotspot_classify_params","text":"","code":"hotspot_classify_params(   hotspot_prop = 0.1,   persistent_prop = 0.8,   recent_prop = 0.2,   critical_p = 0.05,   nb_dist = NULL,   include_self = TRUE,   p_adjust_method = NULL )"},{"path":"http://pkgs.lesscrime.info/sfhotspot/reference/hotspot_classify_params.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Control the parameters used to classify hotspots — hotspot_classify_params","text":"hotspot_prop single numeric value specifying minimum proportion periods cell must contain significant clusters points cell can classified hot cold spot type. persistent_prop single numeric value specifying minimum proportion periods cell must contain significant clusters points cell can classified persistent hot cold spot. recent_prop single numeric value specifying proportion periods treated recent classification emerging former hotspots. critical_p threshold p-value values treated statistically significant. nb_dist distance around cell contains neighbours cell, used calculating statistic. argument NULL (default), nb_dist set cell_size *   sqrt(2) cells immediately adjacent cell treated neighbours. include_self points given cell counted well counts neighbouring cells calculating values Gi* (include_self = TRUE, default) Gi* (include_self = FALSE) values? unlikely want change default value. p_adjust_method method used adjust p-values multiple comparisons. NULL (default) uses default method used p.adjust, character values stats::p.adjust.methods may specified.","code":""},{"path":"http://pkgs.lesscrime.info/sfhotspot/reference/hotspot_classify_params.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Control the parameters used to classify hotspots — hotspot_classify_params","text":"list can used input params argument hotspot_classify.","code":""},{"path":"http://pkgs.lesscrime.info/sfhotspot/reference/hotspot_clip.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract points inside polygon — hotspot_clip","title":"Extract points inside polygon — hotspot_clip","text":"Extract points inside polygon","code":""},{"path":"http://pkgs.lesscrime.info/sfhotspot/reference/hotspot_clip.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract points inside polygon — hotspot_clip","text":"","code":"hotspot_clip(data, boundary, quiet = FALSE, ...)"},{"path":"http://pkgs.lesscrime.info/sfhotspot/reference/hotspot_clip.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract points inside polygon — hotspot_clip","text":"data sf data frame containing points. boundary sf data frame containing polygons. quiet set TRUE, messages reporting values parameters set automatically suppressed. default FALSE. ... arguments passed st_intersection.","code":""},{"path":"http://pkgs.lesscrime.info/sfhotspot/reference/hotspot_clip.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract points inside polygon — hotspot_clip","text":"SF data frame containing points covered polygons.","code":""},{"path":"http://pkgs.lesscrime.info/sfhotspot/reference/hotspot_clip.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Extract points inside polygon — hotspot_clip","text":"function wrapper around st_intersection performs additional checks reports useful information.","code":""},{"path":"http://pkgs.lesscrime.info/sfhotspot/reference/hotspot_count.html","id":null,"dir":"Reference","previous_headings":"","what":"Count points in cells in a two-dimensional grid — hotspot_count","title":"Count points in cells in a two-dimensional grid — hotspot_count","text":"Count points cells two-dimensional grid","code":""},{"path":"http://pkgs.lesscrime.info/sfhotspot/reference/hotspot_count.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Count points in cells in a two-dimensional grid — hotspot_count","text":"","code":"hotspot_count(   data,   cell_size = NULL,   grid_type = \"rect\",   grid = NULL,   weights = NULL,   quiet = FALSE )"},{"path":"http://pkgs.lesscrime.info/sfhotspot/reference/hotspot_count.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Count points in cells in a two-dimensional grid — hotspot_count","text":"data sf data frame containing points. cell_size numeric value specifying size equally spaced grid cell, using units (metres, degrees, etc.) used sf data frame given data argument. Ignored grid NULL. argument grid NULL (default), cell size calculated automatically (see Details). grid_type character specifying whether grid made squares (\"rect\", default) hexagons (\"hex\"). Ignored grid NULL. grid sf data frame containing polygons, used grid counts made. weights NULL name column data used weights weighted counts. quiet set TRUE, messages reporting values parameters set automatically suppressed. default FALSE.","code":""},{"path":"http://pkgs.lesscrime.info/sfhotspot/reference/hotspot_count.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Count points in cells in a two-dimensional grid — hotspot_count","text":"sf tibble regular grid cells corresponding point counts cell. can plotted using autoplot.","code":""},{"path":"http://pkgs.lesscrime.info/sfhotspot/reference/hotspot_count.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Count points in cells in a two-dimensional grid — hotspot_count","text":"function counts number points cell regular grid. column name data supplied weights argument, weighted counts also produced.","code":""},{"path":"http://pkgs.lesscrime.info/sfhotspot/reference/hotspot_count.html","id":"automatic-cell-size-selection","dir":"Reference","previous_headings":"","what":"Automatic cell-size selection","title":"Count points in cells in a two-dimensional grid — hotspot_count","text":"grid NULL cell size given, cell size set 50 cells shorter side grid. data SF object projected metres feet, number cells adjusted upwards cell size multiple 100.","code":""},{"path":"http://pkgs.lesscrime.info/sfhotspot/reference/hotspot_count.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Count points in cells in a two-dimensional grid — hotspot_count","text":"","code":"# Set cell size automatically # \\donttest{ hotspot_count(memphis_robberies_jan) #> Cell size set to 0.00512 degrees automatically #> Simple feature collection with 2505 features and 1 field #> Geometry type: POLYGON #> Dimension:     XY #> Bounding box:  xmin: -90.1261 ymin: 34.99475 xmax: -89.77282 ymax: 35.25587 #> Geodetic CRS:  WGS 84 #> # A tibble: 2,505 × 2 #>        n                                                                geometry #>  * <dbl>                                                           <POLYGON [°]> #>  1     0 ((-90.03394 34.99475, -90.02882 34.99475, -90.02882 34.99987, -90.0339… #>  2     0 ((-90.02882 34.99475, -90.0237 34.99475, -90.0237 34.99987, -90.02882 … #>  3     0 ((-90.0237 34.99475, -90.01858 34.99475, -90.01858 34.99987, -90.0237 … #>  4     0 ((-90.01858 34.99475, -90.01346 34.99475, -90.01346 34.99987, -90.0185… #>  5     1 ((-90.01346 34.99475, -90.00834 34.99475, -90.00834 34.99987, -90.0134… #>  6     0 ((-90.00834 34.99475, -90.00322 34.99475, -90.00322 34.99987, -90.0083… #>  7     0 ((-90.00322 34.99475, -89.9981 34.99475, -89.9981 34.99987, -90.00322 … #>  8     0 ((-89.9981 34.99475, -89.99298 34.99475, -89.99298 34.99987, -89.9981 … #>  9     0 ((-89.99298 34.99475, -89.98786 34.99475, -89.98786 34.99987, -89.9929… #> 10     0 ((-90.05442 34.99987, -90.0493 34.99987, -90.0493 35.00499, -90.05442 … #> # ℹ 2,495 more rows # }  # Transform data to UTM zone 15N so that cell_size and bandwidth can be set # in metres library(sf) #> Linking to GEOS 3.13.0, GDAL 3.8.5, PROJ 9.5.1; sf_use_s2() is TRUE memphis_robberies_utm <- st_transform(memphis_robberies_jan, 32615)  # Manually set grid-cell size in metres, since the `memphis_robberies_utm` # dataset uses a co-ordinate reference system (UTM zone 15 north) that is # specified in metres # \\donttest{ hotspot_count(memphis_robberies_utm, cell_size = 200) #> Simple feature collection with 16133 features and 1 field #> Geometry type: POLYGON #> Dimension:     XY #> Bounding box:  xmin: 762136.2 ymin: 3876586 xmax: 794136.2 ymax: 3905386 #> Projected CRS: WGS 84 / UTM zone 15N #> # A tibble: 16,133 × 2 #>        n                                                                geometry #>  * <dbl>                                                           <POLYGON [m]> #>  1     0 ((771936.2 3876586, 771936.2 3876786, 772136.2 3876786, 772136.2 38765… #>  2     0 ((772136.2 3876586, 772136.2 3876786, 772336.2 3876786, 772336.2 38765… #>  3     0 ((772336.2 3876586, 772336.2 3876786, 772536.2 3876786, 772536.2 38765… #>  4     0 ((772536.2 3876586, 772536.2 3876786, 772736.2 3876786, 772736.2 38765… #>  5     1 ((772736.2 3876586, 772736.2 3876786, 772936.2 3876786, 772936.2 38765… #>  6     0 ((772936.2 3876586, 772936.2 3876786, 773136.2 3876786, 773136.2 38765… #>  7     0 ((773136.2 3876586, 773136.2 3876786, 773336.2 3876786, 773336.2 38765… #>  8     0 ((773336.2 3876586, 773336.2 3876786, 773536.2 3876786, 773536.2 38765… #>  9     0 ((773536.2 3876586, 773536.2 3876786, 773736.2 3876786, 773736.2 38765… #> 10     0 ((771136.2 3876786, 771136.2 3876986, 771336.2 3876986, 771336.2 38767… #> # ℹ 16,123 more rows # }"},{"path":"http://pkgs.lesscrime.info/sfhotspot/reference/hotspot_dual_kde.html","id":null,"dir":"Reference","previous_headings":"","what":"Estimate the relationship between the kernel density of two layers of points — hotspot_dual_kde","title":"Estimate the relationship between the kernel density of two layers of points — hotspot_dual_kde","text":"Estimate relationship kernel density two layers points","code":""},{"path":"http://pkgs.lesscrime.info/sfhotspot/reference/hotspot_dual_kde.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Estimate the relationship between the kernel density of two layers of points — hotspot_dual_kde","text":"","code":"hotspot_dual_kde(   x,   y,   cell_size = NULL,   grid_type = \"rect\",   bandwidth = NULL,   bandwidth_adjust = 1,   method = \"ratio\",   grid = NULL,   weights = NULL,   transform = TRUE,   quiet = FALSE,   ... )"},{"path":"http://pkgs.lesscrime.info/sfhotspot/reference/hotspot_dual_kde.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Estimate the relationship between the kernel density of two layers of points — hotspot_dual_kde","text":"x, y sf data frames containing points. cell_size numeric value specifying size equally spaced grid cell, using units (metres, degrees, etc.) used sf data frame given x argument. Ignored grid NULL. argument grid NULL (default), cell size calculated automatically (see Details). grid_type character specifying whether grid made squares (\"rect\", default) hexagons (\"hex\"). Ignored grid NULL. bandwidth either single numeric value specifying bandwidth used calculating kernel density estimates, list exactly 2 values. argument NULL (default), bandwidth x y determined automatically using result bandwidth.nrd called co-ordinates points x. argument list(NULL, NULL), separate bandwidths determined automatically x y based layer. bandwidth_adjust single positive numeric value value bandwidth x y multiplied, list two values. Useful setting bandwidth relative default. method character specifying method densities, d(), x y related: ratio (default) calculates density x divided density y, .e. d(x) / d(y). log calculates natural logarithm density x divided density y, .e. log(d(x) / d(y)). diff calculates difference density x density y, .e. d(x) - d(y). sum calculates sum density x density y, .e. d(x) + d(y). result calculation returned kde column return value. grid sf data frame containing polygons, used grid densities estimated. weights NULL (default) vector length two giving either NULL name column x y used weights weighted counts KDE values. transform underlying SpatialKDE package calculate kernel density lon/lat data, must transformed use projected co-ordinate reference system. argument TRUE (default) sf::st_is_longlat(x) TRUE, x, y grid (provided) transformed automatically using link{st_transform_auto} kernel density estimated transformed back afterwards. Set argument FALSE suppress automatic transformation data. quiet set TRUE, messages reporting values parameters set automatically suppressed. default FALSE. ... arguments passed kde.","code":""},{"path":"http://pkgs.lesscrime.info/sfhotspot/reference/hotspot_dual_kde.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Estimate the relationship between the kernel density of two layers of points — hotspot_dual_kde","text":"sf tibble grid cells corresponding point counts dual kernel density estimates cell. can plotted using autoplot. function creates regular two-dimensional grid cells (unless custom grid specified grid), calculates density points cell x y using functions SpatialKDE package, produces value representing relation two densities. count points cell also returned. Dual kernel density values can useful understanding relationship distributions two sets point locations. example: ratio two densities representing locations burglaries locations houses can show distribution risk (incidence rate) burglaries. logged ratio may useful show relationships one set points extremely skewed distribution. difference two densities can show change distributions two points time. sum two densities can used estimate total density two types point, e.g. locations occurrences two diseases.","code":""},{"path":"http://pkgs.lesscrime.info/sfhotspot/reference/hotspot_dual_kde.html","id":"coverage-of-the-output-data","dir":"Reference","previous_headings":"","what":"Coverage of the output data","title":"Estimate the relationship between the kernel density of two layers of points — hotspot_dual_kde","text":"grid produced function covers convex hull points x. means result may include KDE values cells outside area data provided, misleading. handle , consider cropping output layer area data available. example, crime data particular district, crop output dataset district boundary using st_intersection.","code":""},{"path":"http://pkgs.lesscrime.info/sfhotspot/reference/hotspot_dual_kde.html","id":"automatic-cell-size-selection","dir":"Reference","previous_headings":"","what":"Automatic cell-size selection","title":"Estimate the relationship between the kernel density of two layers of points — hotspot_dual_kde","text":"cell size given cell size set 50 cells shorter side grid. x SF object projected metres feet, number cells adjusted upwards cell size multiple 100.","code":""},{"path":"http://pkgs.lesscrime.info/sfhotspot/reference/hotspot_dual_kde.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Estimate the relationship between the kernel density of two layers of points — hotspot_dual_kde","text":"Yin, P. (2020). Kernels Density Estimation. Geographic Information Science & Technology Body Knowledge (1st Quarter 2020 Edition), John P. Wilson (ed.). doi:doi:10.22224/gistbok/2020.1.12","code":""},{"path":"http://pkgs.lesscrime.info/sfhotspot/reference/hotspot_dual_kde.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Estimate the relationship between the kernel density of two layers of points — hotspot_dual_kde","text":"","code":"# See also the examples for `hotspot_kde()` for examples of how to specify # `cell_size`, `bandwidth`, etc.  library(sf)  # Transform data to UTM zone 15N so that cell_size and bandwidth can be set # in metres memphis_robberies_utm <- st_transform(memphis_robberies, 32615) memphis_population_utm <- st_transform(memphis_population, 32615)  # Calculate burglary risk based on residential population. `weights` is set # to `c(NULL, population)` so that the robberies layer is not weighted and # the population layer is weighted according to the number of residents in # each census block. # \\donttest{ hotspot_dual_kde(   memphis_robberies_utm,   memphis_population_utm,   bandwidth = list(NULL, NULL),   weights = c(NULL, population) ) #> Cell size set to 500 metres automatically #> Bandwidth set automatically based on rule of thumb. #> ℹ Bandwidth for `x` = 5,592 metres. #> Bandwidth set automatically based on rule of thumb. #> ℹ Bandwidth for `y` = 5,175 metres. #> Simple feature collection with 3302 features and 2 fields #> Geometry type: POLYGON #> Dimension:     XY #> Bounding box:  xmin: 761931.5 ymin: 3876436 xmax: 797931.5 ymax: 3906436 #> Projected CRS: WGS 84 / UTM zone 15N #> # A tibble: 3,302 × 3 #>        n     kde                                                        geometry #>  * <dbl>   <dbl>                                                   <POLYGON [m]> #>  1     0 0.00228 ((762931.5 3876436, 762931.5 3876936, 763431.5 3876936, 763431… #>  2     0 0.00214 ((763431.5 3876436, 763431.5 3876936, 763931.5 3876936, 763931… #>  3     0 0.00203 ((763931.5 3876436, 763931.5 3876936, 764431.5 3876936, 764431… #>  4     0 0.00194 ((764431.5 3876436, 764431.5 3876936, 764931.5 3876936, 764931… #>  5     0 0.00188 ((764931.5 3876436, 764931.5 3876936, 765431.5 3876936, 765431… #>  6     0 0.00185 ((765431.5 3876436, 765431.5 3876936, 765931.5 3876936, 765931… #>  7     0 0.00184 ((765931.5 3876436, 765931.5 3876936, 766431.5 3876936, 766431… #>  8     0 0.00185 ((766431.5 3876436, 766431.5 3876936, 766931.5 3876936, 766931… #>  9     0 0.00188 ((766931.5 3876436, 766931.5 3876936, 767431.5 3876936, 767431… #> 10     0 0.00195 ((767431.5 3876436, 767431.5 3876936, 767931.5 3876936, 767931… #> # ℹ 3,292 more rows # }"},{"path":"http://pkgs.lesscrime.info/sfhotspot/reference/hotspot_gistar.html","id":null,"dir":"Reference","previous_headings":"","what":"Identify significant spatial clusters of points — hotspot_gistar","title":"Identify significant spatial clusters of points — hotspot_gistar","text":"Identify hotspot coldspot locations, cells regular grid /fewer points expected points distributed randomly.","code":""},{"path":"http://pkgs.lesscrime.info/sfhotspot/reference/hotspot_gistar.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Identify significant spatial clusters of points — hotspot_gistar","text":"","code":"hotspot_gistar(   data,   cell_size = NULL,   grid_type = \"rect\",   kde = TRUE,   bandwidth = NULL,   bandwidth_adjust = 1,   grid = NULL,   weights = NULL,   nb_dist = NULL,   include_self = TRUE,   p_adjust_method = NULL,   transform = TRUE,   quiet = FALSE,   ... )"},{"path":"http://pkgs.lesscrime.info/sfhotspot/reference/hotspot_gistar.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Identify significant spatial clusters of points — hotspot_gistar","text":"data sf data frame containing points. cell_size numeric value specifying size equally spaced grid cell, using units (metres, degrees, etc.) used sf data frame given data argument. Ignored grid NULL. argument grid NULL (default), cell size calculated automatically (see Details). grid_type character specifying whether grid made squares (\"rect\", default) hexagons (\"hex\"). Ignored grid NULL. kde TRUE (default) FALSE indicating whether kernel density estimates (KDE) produced grid cell. bandwidth numeric value specifying bandwidth used calculating kernel density estimates. argument NULL (default), bandwidth specified automatically using mean result bandwidth.nrd called x y co-ordinates separately. bandwidth_adjust single positive numeric value value bandwidth multiplied. Useful setting bandwidth relative default. grid sf data frame containing polygons, used grid counts made. weights NULL name column data used weights weighted counts KDE values. nb_dist distance around cell contains neighbours cell, used calculating statistic. argument NULL (default), nb_dist set cell_size *   sqrt(2) cells immediately adjacent cell treated neighbours. include_self points given cell counted well counts neighbouring cells calculating values Gi* (include_self = TRUE, default) Gi* (include_self = FALSE) values? unlikely want change default value. p_adjust_method method used adjust p-values multiple comparisons. NULL (default) uses default method used p.adjust, character values stats::p.adjust.methods may specified. transform underlying SpatialKDE package calculate kernel density lon/lat data, must transformed use projected co-ordinate reference system. argument TRUE (default) sf::st_is_longlat(data) TRUE, data (grid provided) transformed automatically using link{st_transform_auto} kernel density estimated transformed back afterwards. Set argument FALSE suppress automatic transformation data. quiet set TRUE, messages reporting values parameters set automatically suppressed. default FALSE. ... arguments passed kde ignored kde = FALSE.","code":""},{"path":"http://pkgs.lesscrime.info/sfhotspot/reference/hotspot_gistar.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Identify significant spatial clusters of points — hotspot_gistar","text":"sf tibble regular grid cells corresponding point counts, Gi* Gi* values (optionally) kernel density estimates cell. Values greater zero indicate points expected randomly distributed points values less zero indicate fewer points. Critical values Gi* Gi* given manual page localG. output function can plotted way SF objects, see vignette(\"sf5\", package = \"sf\").","code":""},{"path":"http://pkgs.lesscrime.info/sfhotspot/reference/hotspot_gistar.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Identify significant spatial clusters of points — hotspot_gistar","text":"function calculates Getis-Ord Gi* (gi-star) Gi* \\(Z\\)-score statistic identifying clusters point locations. underlying implementation uses localG function calculate \\(Z\\) scores p.adjustSP function adjust corresponding \\(p\\)-values multiple comparison. function also returns counts points cell (default optionally) kernel density estimates using kde function.","code":""},{"path":"http://pkgs.lesscrime.info/sfhotspot/reference/hotspot_gistar.html","id":"coverage-of-the-output-data","dir":"Reference","previous_headings":"","what":"Coverage of the output data","title":"Identify significant spatial clusters of points — hotspot_gistar","text":"grid produced function covers convex hull input data layer. means result may include Gi* Gi* values cells outside area data provided, misleading. handle , consider cropping output layer area data available. example, crime data particular district, crop output dataset district boundary using st_intersection.","code":""},{"path":"http://pkgs.lesscrime.info/sfhotspot/reference/hotspot_gistar.html","id":"automatic-cell-size-selection","dir":"Reference","previous_headings":"","what":"Automatic cell-size selection","title":"Identify significant spatial clusters of points — hotspot_gistar","text":"cell size given cell size set 50 cells shorter side grid. data SF object projected metres feet, number cells adjusted upwards cell size multiple 100.","code":""},{"path":"http://pkgs.lesscrime.info/sfhotspot/reference/hotspot_gistar.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Identify significant spatial clusters of points — hotspot_gistar","text":"Getis, . & Ord, J. K. (1992). Analysis Spatial Association Use Distance Statistics. Geographical Analysis, 24(3), 189-206. doi:doi:10.1111/j.1538-4632.1992.tb00261.x","code":""},{"path":"http://pkgs.lesscrime.info/sfhotspot/reference/hotspot_gistar.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Identify significant spatial clusters of points — hotspot_gistar","text":"","code":"library(sf)  # Transform data to UTM zone 15N so that cell_size and bandwidth can be set # in metres memphis_robberies_utm <- st_transform(memphis_robberies_jan, 32615)  # Automatically set grid-cell size, bandwidth and neighbour distance # \\donttest{ hotspot_gistar(memphis_robberies_utm) #> Cell size set to 500 metres automatically #> Bandwidth set automatically based on rule of thumb. #> ℹ Bandwidth = 8,877 metres. #> Simple feature collection with 2715 features and 4 fields #> Geometry type: POLYGON #> Dimension:     XY #> Bounding box:  xmin: 761986.2 ymin: 3876436 xmax: 794486.2 ymax: 3905936 #> Projected CRS: WGS 84 / UTM zone 15N #> # A tibble: 2,715 × 5 #>        n   kde gistar pvalue                                            geometry #>    <dbl> <dbl>  <dbl>  <dbl>                                       <POLYGON [m]> #>  1     0 11.1  -0.546  0.585 ((770486.2 3876436, 770486.2 3876936, 770986.2 387… #>  2     0 11.2  -0.598  0.550 ((770986.2 3876436, 770986.2 3876936, 771486.2 387… #>  3     0 11.2  -0.598  0.550 ((771486.2 3876436, 771486.2 3876936, 771986.2 387… #>  4     0 11.1   0.716  0.474 ((771986.2 3876436, 771986.2 3876936, 772486.2 387… #>  5     1 10.9   0.716  0.474 ((772486.2 3876436, 772486.2 3876936, 772986.2 387… #>  6     0 10.5   0.716  0.474 ((772986.2 3876436, 772986.2 3876936, 773486.2 387… #>  7     0 10.0  -0.598  0.550 ((773486.2 3876436, 773486.2 3876936, 773986.2 387… #>  8     0  9.45 -0.598  0.550 ((773986.2 3876436, 773986.2 3876936, 774486.2 387… #>  9     0  8.76 -0.546  0.585 ((774486.2 3876436, 774486.2 3876936, 774986.2 387… #> 10     0 10.1   0.893  0.372 ((768486.2 3876936, 768486.2 3877436, 768986.2 387… #> # ℹ 2,705 more rows # }  # Manually set grid-cell size in metres, since the `memphis_robberies` # dataset uses a co-ordinate reference system (UTM zone 15 north) that is # specified in metres # \\donttest{ hotspot_gistar(memphis_robberies_utm, cell_size = 200) #> Bandwidth set automatically based on rule of thumb. #> ℹ Bandwidth = 8,877 metres. #> Simple feature collection with 16133 features and 4 fields #> Geometry type: POLYGON #> Dimension:     XY #> Bounding box:  xmin: 762136.2 ymin: 3876586 xmax: 794136.2 ymax: 3905386 #> Projected CRS: WGS 84 / UTM zone 15N #> # A tibble: 16,133 × 5 #>        n   kde gistar  pvalue                                           geometry #>    <dbl> <dbl>  <dbl>   <dbl>                                      <POLYGON [m]> #>  1     0  11.2 -0.243 0.808   ((771936.2 3876586, 771936.2 3876786, 772136.2 38… #>  2     0  11.1 -0.266 0.790   ((772136.2 3876586, 772136.2 3876786, 772336.2 38… #>  3     0  11.1 -0.266 0.790   ((772336.2 3876586, 772336.2 3876786, 772536.2 38… #>  4     0  11.0  3.20  0.00135 ((772536.2 3876586, 772536.2 3876786, 772736.2 38… #>  5     1  10.8  3.20  0.00135 ((772736.2 3876586, 772736.2 3876786, 772936.2 38… #>  6     0  10.7  3.20  0.00135 ((772936.2 3876586, 772936.2 3876786, 773136.2 38… #>  7     0  10.5 -0.266 0.790   ((773136.2 3876586, 773136.2 3876786, 773336.2 38… #>  8     0  10.3 -0.266 0.790   ((773336.2 3876586, 773336.2 3876786, 773536.2 38… #>  9     0  10.1 -0.243 0.808   ((773536.2 3876586, 773536.2 3876786, 773736.2 38… #> 10     0  11.6 -0.243 0.808   ((771136.2 3876786, 771136.2 3876986, 771336.2 38… #> # ℹ 16,123 more rows # }  # Automatically set grid-cell size and bandwidth for lon/lat data, since it # is not intuitive to set these values manually in decimal degrees. To do # this it is necessary to not calculate KDEs due to a limitation in the # underlying function. # \\donttest{ hotspot_gistar(memphis_robberies, kde = FALSE) #> The co-ordinates in `data` are latitudes and longitudes. #> ℹ `cell_size`/`bandwidth` will be in decimal degrees. #> ℹ Consider transforming `data` to use a projected CRS. #> Cell size set to 0.00524 degrees automatically #> Simple feature collection with 2926 features and 3 fields #> Geometry type: POLYGON #> Dimension:     XY #> Bounding box:  xmin: -90.1261 ymin: 34.99475 xmax: -89.72786 ymax: 35.26199 #> Geodetic CRS:  WGS 84 #> # A tibble: 2,926 × 4 #>        n gistar pvalue                                                  geometry #>    <dbl>  <dbl>  <dbl>                                             <POLYGON [°]> #>  1     0 -0.992  0.321 ((-90.08418 34.99475, -90.07894 34.99475, -90.07894 34.9… #>  2     0 -0.850  0.395 ((-90.07894 34.99475, -90.0737 34.99475, -90.0737 34.999… #>  3     0 -0.733  0.463 ((-90.0737 34.99475, -90.06846 34.99475, -90.06846 34.99… #>  4     0 -0.887  0.375 ((-90.06846 34.99475, -90.06322 34.99475, -90.06322 34.9… #>  5     0 -0.887  0.375 ((-90.06322 34.99475, -90.05798 34.99475, -90.05798 34.9… #>  6     0 -0.475  0.635 ((-90.05798 34.99475, -90.05274 34.99475, -90.05274 34.9… #>  7     0 -0.614  0.539 ((-90.05274 34.99475, -90.0475 34.99475, -90.0475 34.999… #>  8     0 -0.733  0.463 ((-90.0475 34.99475, -90.04226 34.99475, -90.04226 34.99… #>  9     0 -0.992  0.321 ((-90.04226 34.99475, -90.03702 34.99475, -90.03702 34.9… #> 10     0 -0.992  0.321 ((-90.03702 34.99475, -90.03178 34.99475, -90.03178 34.9… #> # ℹ 2,916 more rows # }"},{"path":"http://pkgs.lesscrime.info/sfhotspot/reference/hotspot_grid.html","id":null,"dir":"Reference","previous_headings":"","what":"Create either a rectangular or hexagonal two-dimensional grid — hotspot_grid","title":"Create either a rectangular or hexagonal two-dimensional grid — hotspot_grid","text":"Create either rectangular hexagonal two-dimensional grid","code":""},{"path":"http://pkgs.lesscrime.info/sfhotspot/reference/hotspot_grid.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create either a rectangular or hexagonal two-dimensional grid — hotspot_grid","text":"","code":"hotspot_grid(data, cell_size = NULL, grid_type = \"rect\", quiet = FALSE, ...)"},{"path":"http://pkgs.lesscrime.info/sfhotspot/reference/hotspot_grid.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create either a rectangular or hexagonal two-dimensional grid — hotspot_grid","text":"data sf data frame. cell_size numeric value specifying size equally spaced grid cell, using units (metres, degrees, etc.) used sf data frame given data argument. argument NULL (default), cell size calculated automatically (see Details). grid_type character specifying whether grid made squares (\"rect\", default) hexagons (\"hex\"). quiet set TRUE, messages reporting values parameters set automatically suppressed. default FALSE. ... arguments passed link[sf]{st_make_grid}.","code":""},{"path":"http://pkgs.lesscrime.info/sfhotspot/reference/hotspot_grid.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create either a rectangular or hexagonal two-dimensional grid — hotspot_grid","text":"simple features tibble containing polygons representing grid cells. grid based convex hull data, expanded buffer cell_size / 2 ensure points data fall within resulting grid.","code":""},{"path":"http://pkgs.lesscrime.info/sfhotspot/reference/hotspot_kde.html","id":null,"dir":"Reference","previous_headings":"","what":"Estimate two-dimensional kernel density of points — hotspot_kde","title":"Estimate two-dimensional kernel density of points — hotspot_kde","text":"Estimate two-dimensional kernel density points","code":""},{"path":"http://pkgs.lesscrime.info/sfhotspot/reference/hotspot_kde.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Estimate two-dimensional kernel density of points — hotspot_kde","text":"","code":"hotspot_kde(   data,   cell_size = NULL,   grid_type = \"rect\",   bandwidth = NULL,   bandwidth_adjust = 1,   grid = NULL,   weights = NULL,   transform = TRUE,   quiet = FALSE,   ... )"},{"path":"http://pkgs.lesscrime.info/sfhotspot/reference/hotspot_kde.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Estimate two-dimensional kernel density of points — hotspot_kde","text":"data sf data frame containing points. cell_size numeric value specifying size equally spaced grid cell, using units (metres, degrees, etc.) used sf data frame given data argument. Ignored grid NULL. argument grid NULL (default), cell size calculated automatically (see Details). grid_type character specifying whether grid made squares (\"rect\", default) hexagons (\"hex\"). Ignored grid NULL. bandwidth numeric value specifying bandwidth used calculating kernel density estimates. argument NULL (default), bandwidth determined automatically using result bandwidth.nrd called co-ordinates data. bandwidth_adjust single positive numeric value value bandwidth multiplied. Useful setting bandwidth relative default. grid sf data frame containing polygons, used grid densities estimated. weights NULL name column data used weights weighted counts KDE values. transform underlying SpatialKDE package calculate kernel density lon/lat data, must transformed use projected co-ordinate reference system. argument TRUE (default) sf::st_is_longlat(data) TRUE, data (grid provided) transformed automatically using link{st_transform_auto} kernel density estimated transformed back afterwards. Set argument FALSE suppress automatic transformation data. quiet set TRUE, messages reporting values parameters set automatically suppressed. default FALSE. ... arguments passed kde.","code":""},{"path":"http://pkgs.lesscrime.info/sfhotspot/reference/hotspot_kde.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Estimate two-dimensional kernel density of points — hotspot_kde","text":"sf tibble grid cells corresponding point counts kernel density estimates cell. can plotted using autoplot.","code":""},{"path":"http://pkgs.lesscrime.info/sfhotspot/reference/hotspot_kde.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Estimate two-dimensional kernel density of points — hotspot_kde","text":"function creates regular two-dimensional grid cells (unless custom grid specified grid) calculates density points cell grid using functions SpatialKDE package. count points cell also returned.","code":""},{"path":"http://pkgs.lesscrime.info/sfhotspot/reference/hotspot_kde.html","id":"coverage-of-the-output-data","dir":"Reference","previous_headings":"","what":"Coverage of the output data","title":"Estimate two-dimensional kernel density of points — hotspot_kde","text":"grid produced function covers convex hull input data layer. means result may include KDE values cells outside area data provided, misleading. handle , consider cropping output layer area data available. example, crime data particular district, crop output dataset district boundary using st_intersection.","code":""},{"path":"http://pkgs.lesscrime.info/sfhotspot/reference/hotspot_kde.html","id":"automatic-cell-size-selection","dir":"Reference","previous_headings":"","what":"Automatic cell-size selection","title":"Estimate two-dimensional kernel density of points — hotspot_kde","text":"cell size given cell size set 50 cells shorter side grid. data SF object projected metres feet, number cells adjusted upwards cell size multiple 100.","code":""},{"path":"http://pkgs.lesscrime.info/sfhotspot/reference/hotspot_kde.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Estimate two-dimensional kernel density of points — hotspot_kde","text":"Yin, P. (2020). Kernels Density Estimation. Geographic Information Science & Technology Body Knowledge (1st Quarter 2020 Edition), John P. Wilson (ed.). doi:doi:10.22224/gistbok/2020.1.12","code":""},{"path":"http://pkgs.lesscrime.info/sfhotspot/reference/hotspot_kde.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Estimate two-dimensional kernel density of points — hotspot_kde","text":"","code":"library(sf)  # Transform data to UTM zone 15N so that cell_size and bandwidth can be set # in metres memphis_robberies_utm <- st_transform(memphis_robberies_jan, 32615)  # Automatically set grid-cell size, bandwidth and neighbour distance # \\donttest{ hotspot_kde(memphis_robberies_utm) #> Cell size set to 500 metres automatically #> Bandwidth set automatically based on rule of thumb. #> ℹ Bandwidth = 8,877 metres. #> Simple feature collection with 2715 features and 2 fields #> Geometry type: POLYGON #> Dimension:     XY #> Bounding box:  xmin: 761986.2 ymin: 3876436 xmax: 794486.2 ymax: 3905936 #> Projected CRS: WGS 84 / UTM zone 15N #> # A tibble: 2,715 × 3 #>        n   kde                                                          geometry #>  * <dbl> <dbl>                                                     <POLYGON [m]> #>  1     0 11.1  ((770486.2 3876436, 770486.2 3876936, 770986.2 3876936, 770986.2… #>  2     0 11.2  ((770986.2 3876436, 770986.2 3876936, 771486.2 3876936, 771486.2… #>  3     0 11.2  ((771486.2 3876436, 771486.2 3876936, 771986.2 3876936, 771986.2… #>  4     0 11.1  ((771986.2 3876436, 771986.2 3876936, 772486.2 3876936, 772486.2… #>  5     1 10.9  ((772486.2 3876436, 772486.2 3876936, 772986.2 3876936, 772986.2… #>  6     0 10.5  ((772986.2 3876436, 772986.2 3876936, 773486.2 3876936, 773486.2… #>  7     0 10.0  ((773486.2 3876436, 773486.2 3876936, 773986.2 3876936, 773986.2… #>  8     0  9.45 ((773986.2 3876436, 773986.2 3876936, 774486.2 3876936, 774486.2… #>  9     0  8.76 ((774486.2 3876436, 774486.2 3876936, 774986.2 3876936, 774986.2… #> 10     0 10.1  ((768486.2 3876936, 768486.2 3877436, 768986.2 3877436, 768986.2… #> # ℹ 2,705 more rows # }  # Manually set grid-cell size and bandwidth in metres, since the # `memphis_robberies_utm` dataset uses a co-ordinate reference system (UTM # zone 15 north) that is specified in metres # \\donttest{ hotspot_kde(memphis_robberies_utm, cell_size = 200, bandwidth = 1000) #> Simple feature collection with 16133 features and 2 fields #> Geometry type: POLYGON #> Dimension:     XY #> Bounding box:  xmin: 762136.2 ymin: 3876586 xmax: 794136.2 ymax: 3905386 #> Projected CRS: WGS 84 / UTM zone 15N #> # A tibble: 16,133 × 3 #>        n    kde                                                         geometry #>  * <dbl>  <dbl>                                                    <POLYGON [m]> #>  1     0 0.0658 ((771936.2 3876586, 771936.2 3876786, 772136.2 3876786, 772136.… #>  2     0 0.315  ((772136.2 3876586, 772136.2 3876786, 772336.2 3876786, 772336.… #>  3     0 0.618  ((772336.2 3876586, 772336.2 3876786, 772536.2 3876786, 772536.… #>  4     0 0.867  ((772536.2 3876586, 772536.2 3876786, 772736.2 3876786, 772736.… #>  5     1 1.00   ((772736.2 3876586, 772736.2 3876786, 772936.2 3876786, 772936.… #>  6     0 0.997  ((772936.2 3876586, 772936.2 3876786, 773136.2 3876786, 773136.… #>  7     0 0.821  ((773136.2 3876586, 773136.2 3876786, 773336.2 3876786, 773336.… #>  8     0 0.518  ((773336.2 3876586, 773336.2 3876786, 773536.2 3876786, 773536.… #>  9     0 0.208  ((773536.2 3876586, 773536.2 3876786, 773736.2 3876786, 773736.… #> 10     0 0.183  ((771136.2 3876786, 771136.2 3876986, 771336.2 3876986, 771336.… #> # ℹ 16,123 more rows # }"},{"path":"http://pkgs.lesscrime.info/sfhotspot/reference/memphis_population.html","id":null,"dir":"Reference","previous_headings":"","what":"Populations of census blocks in Memphis in 2020 — memphis_population","title":"Populations of census blocks in Memphis in 2020 — memphis_population","text":"dataset containing records populations associated centroids census blocks Memphis, Tennessee, 2020.","code":""},{"path":"http://pkgs.lesscrime.info/sfhotspot/reference/memphis_population.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Populations of census blocks in Memphis in 2020 — memphis_population","text":"","code":"memphis_population"},{"path":"http://pkgs.lesscrime.info/sfhotspot/reference/memphis_population.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Populations of census blocks in Memphis in 2020 — memphis_population","text":"simple-features tibble 10,393 rows three variables: geoid census GEOID block population number people residing block geometry co-ordinates centroid block, stored simple-features point format","code":""},{"path":"http://pkgs.lesscrime.info/sfhotspot/reference/memphis_population.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Populations of census blocks in Memphis in 2020 — memphis_population","text":"US Census Bureau. Census 2020, Redistricting Data summary file. https://www.census.gov/programs-surveys/decennial-census//rdo/summary-files.html","code":""},{"path":"http://pkgs.lesscrime.info/sfhotspot/reference/memphis_precincts.html","id":null,"dir":"Reference","previous_headings":"","what":"Memphis Police Department Precincts — memphis_precincts","title":"Memphis Police Department Precincts — memphis_precincts","text":"dataset containing boundaries Memphis Police Department precincts.","code":""},{"path":"http://pkgs.lesscrime.info/sfhotspot/reference/memphis_precincts.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Memphis Police Department Precincts — memphis_precincts","text":"","code":"memphis_precincts"},{"path":"http://pkgs.lesscrime.info/sfhotspot/reference/memphis_precincts.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Memphis Police Department Precincts — memphis_precincts","text":"simple-features tibble 9 rows two variables: precinct precinct name geometry boundary precinct, stored simple-features polygon format Licence: Public domain https://data.memphistn.gov/d/tdws-78iq","code":""},{"path":"http://pkgs.lesscrime.info/sfhotspot/reference/memphis_precincts.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Memphis Police Department Precincts — memphis_precincts","text":"City Memphis https://data.memphistn.gov/d/rqqz-pj4u","code":""},{"path":"http://pkgs.lesscrime.info/sfhotspot/reference/memphis_robberies.html","id":null,"dir":"Reference","previous_headings":"","what":"Personal robberies in Memphis in 2019 — memphis_robberies","title":"Personal robberies in Memphis in 2019 — memphis_robberies","text":"dataset containing records personal robberies recorded police Memphis, Tennessee, 2019.","code":""},{"path":"http://pkgs.lesscrime.info/sfhotspot/reference/memphis_robberies.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Personal robberies in Memphis in 2019 — memphis_robberies","text":"","code":"memphis_robberies"},{"path":"http://pkgs.lesscrime.info/sfhotspot/reference/memphis_robberies.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Personal robberies in Memphis in 2019 — memphis_robberies","text":"simple-features tibble 2,245 rows four variables: uid unique identifier robbery offense_type type crime (always 'personal robbery') date date time crime occurred geometry co-ordinates crime occurred, stored simple-features point format","code":""},{"path":"http://pkgs.lesscrime.info/sfhotspot/reference/memphis_robberies.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Personal robberies in Memphis in 2019 — memphis_robberies","text":"Crime Open Database, https://osf.io/zyaqn/","code":""},{"path":"http://pkgs.lesscrime.info/sfhotspot/reference/memphis_robberies_jan.html","id":null,"dir":"Reference","previous_headings":"","what":"Personal robberies in Memphis in January 2019 — memphis_robberies_jan","title":"Personal robberies in Memphis in January 2019 — memphis_robberies_jan","text":"dataset containing records personal robberies recorded police Memphis, Tennessee, January 2019. dataset small types analysis included testing purposes.","code":""},{"path":"http://pkgs.lesscrime.info/sfhotspot/reference/memphis_robberies_jan.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Personal robberies in Memphis in January 2019 — memphis_robberies_jan","text":"","code":"memphis_robberies_jan"},{"path":"http://pkgs.lesscrime.info/sfhotspot/reference/memphis_robberies_jan.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Personal robberies in Memphis in January 2019 — memphis_robberies_jan","text":"simple-features tibble 206 rows four variables: uid unique identifier robbery offense_type type crime (always 'personal robbery') date date time crime occurred geometry co-ordinates crime occurred, stored simple-features point format","code":""},{"path":"http://pkgs.lesscrime.info/sfhotspot/reference/memphis_robberies_jan.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Personal robberies in Memphis in January 2019 — memphis_robberies_jan","text":"Crime Open Database, https://osf.io/zyaqn/","code":""},{"path":"http://pkgs.lesscrime.info/sfhotspot/reference/reexports.html","id":null,"dir":"Reference","previous_headings":"","what":"Objects exported from other packages — reexports","title":"Objects exported from other packages — reexports","text":"objects imported packages. Follow links see documentation. ggplot2 autolayer, autoplot","code":""},{"path":"http://pkgs.lesscrime.info/sfhotspot/reference/st_transform_auto.html","id":null,"dir":"Reference","previous_headings":"","what":"Toggle between lon/lat and UTM co-ordinates — st_transform_auto","title":"Toggle between lon/lat and UTM co-ordinates — st_transform_auto","text":"often useful convert geographic data projected co-ordinate system, e.g. specifying buffer distance metres. st_transform_auto converts lon/lat co-ordinates UTM UPS zone centroid data.","code":""},{"path":"http://pkgs.lesscrime.info/sfhotspot/reference/st_transform_auto.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Toggle between lon/lat and UTM co-ordinates — st_transform_auto","text":"","code":"st_transform_auto(data, check = TRUE, quiet = FALSE)"},{"path":"http://pkgs.lesscrime.info/sfhotspot/reference/st_transform_auto.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Toggle between lon/lat and UTM co-ordinates — st_transform_auto","text":"data sf object. check function check chosen UTM zone covers data? warning issued centroid row data 1º outside area covered UTM zone. quiet set TRUE, messages reporting values parameters set automatically suppressed. default FALSE.","code":""},{"path":"http://pkgs.lesscrime.info/sfhotspot/reference/st_transform_auto.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Toggle between lon/lat and UTM co-ordinates — st_transform_auto","text":"SF object transformed new CRS.","code":""},{"path":"http://pkgs.lesscrime.info/sfhotspot/news/index.html","id":"sfhotspot-100","dir":"Changelog","previous_headings":"","what":"sfhotspot 1.0.0","title":"sfhotspot 1.0.0","text":"New function hotspot_clip() added extract points SF object inside boundary polygon (#57). default lat/lon data now transformed use projected co-ordinate reference system kernel density estimation transformed back afterwards (previously trying run KDE lat/lon data resulted error). Datasets can also automatically transformed /lat/lon using st_transform_auto() (#48). Functions now return useful error provided empty dataset (#58). Adjusted bandwidth now reported accurately (#56).","code":""},{"path":"http://pkgs.lesscrime.info/sfhotspot/news/index.html","id":"sfhotspot-092","dir":"Changelog","previous_headings":"","what":"sfhotspot 0.9.2","title":"sfhotspot 0.9.2","text":"hotspot_grid() handles certain invalid polygon geometries (#54).","code":""},{"path":"http://pkgs.lesscrime.info/sfhotspot/news/index.html","id":"sfhotspot-091","dir":"Changelog","previous_headings":"","what":"sfhotspot 0.9.1","title":"sfhotspot 0.9.1","text":"CRAN release: 2025-02-19 hotspot_grid() handles non-multipolygon input geometries (#46). hotspot_dual_kde(), hotspot_gistar() hotspot_kde() now warn KDE bandwidth smaller cell size (#29). count_points_in_polygons() (used internally count points hotspot_*() family functions) now respects quiet = TRUE (#52). Conditions now formatted cli package following Tidyverse Style Guide errors (#47).","code":""},{"path":"http://pkgs.lesscrime.info/sfhotspot/news/index.html","id":"sfhotspot-090","dir":"Changelog","previous_headings":"","what":"sfhotspot 0.9.0","title":"sfhotspot 0.9.0","text":"CRAN release: 2025-02-10 count_points_in_polygons() now passes columns original dataset, makes hotspot_count() useful (#41). hotspot_grid() provided polygons now bases grid boundary polygons rather convex hull boundary (#42). New dataset memphis_precincts showing Memphis Police Department precincts, required test new functionality hotspot_grid(). hotspot_gistar() now extracts nearest neighbour distance provided grid wrongly rely (report) automatically generated cell size (#38). Warnings grids containing large numbers cells now printed cells created, helping explain code may running slower expected (#33). Improved error message produced point data provided grid overlap (#39). Suppressed progress bar previously included README (#36).","code":""},{"path":"http://pkgs.lesscrime.info/sfhotspot/news/index.html","id":"sfhotspot-080","dir":"Changelog","previous_headings":"","what":"sfhotspot 0.8.0","title":"sfhotspot 0.8.0","text":"CRAN release: 2023-09-19 functions can now handle SF objects geometry column name geometry (#30). hotspot_kde() progress bar now suppressed quiet = TRUE (#25). KDE bandwidth selected automatically based rule thumb, reported bandwidth now takes account value bandwidth_adjust (#32).","code":""},{"path":"http://pkgs.lesscrime.info/sfhotspot/news/index.html","id":"sfhotspot-071","dir":"Changelog","previous_headings":"","what":"sfhotspot 0.7.1","title":"sfhotspot 0.7.1","text":"CRAN release: 2023-02-10 Added warning automatically created grids contain 100,000 cells, since can cause functions package run slowly (#24). Fixed bug cell size incorrectly rounded zero (#26). Removed covr dependency.","code":""},{"path":"http://pkgs.lesscrime.info/sfhotspot/news/index.html","id":"sfhotspot-070","dir":"Changelog","previous_headings":"","what":"sfhotspot 0.7.0","title":"sfhotspot 0.7.0","text":"CRAN release: 2022-09-11 New function hotspot_change() corresponding methods autoplot() autolayer() measuring change frequency events two time periods (#14).","code":""},{"path":"http://pkgs.lesscrime.info/sfhotspot/news/index.html","id":"sfhotspot-061","dir":"Changelog","previous_headings":"","what":"sfhotspot 0.6.1","title":"sfhotspot 0.6.1","text":"Fixed bug message produced setting bandwidth automatically referred unadjusted rather adjusted bandwidth (#22).","code":""},{"path":"http://pkgs.lesscrime.info/sfhotspot/news/index.html","id":"sfhotspot-060","dir":"Changelog","previous_headings":"","what":"sfhotspot 0.6.0","title":"sfhotspot 0.6.0","text":"New function hotspot_dual_kde() estimating different relations density two point layers (#1). New dataset memphis_population showing 2020 population centroids census blocks Memphis, TN.","code":""},{"path":"http://pkgs.lesscrime.info/sfhotspot/news/index.html","id":"sfhotspot-050","dir":"Changelog","previous_headings":"","what":"sfhotspot 0.5.0","title":"sfhotspot 0.5.0","text":"Users can now specify weights counts points kernel density estimation via weights argument hotspot_count(), hotspot_kde() hotspot_gistar().","code":""},{"path":"http://pkgs.lesscrime.info/sfhotspot/news/index.html","id":"sfhotspot-040","dir":"Changelog","previous_headings":"","what":"sfhotspot 0.4.0","title":"sfhotspot 0.4.0","text":"Users can now provide grid using grid argument hotspot_*() family functions. New function hotspot_grid() added users can create rectangular hexagonal grid separately counting points, calculating KDE values, etc. may useful use grid different datasets covering similar area.","code":""},{"path":"http://pkgs.lesscrime.info/sfhotspot/news/index.html","id":"sfhotspot-031","dir":"Changelog","previous_headings":"","what":"sfhotspot 0.3.1","title":"sfhotspot 0.3.1","text":"Fixed bug ... arguments passed SpatialKDE::kde() specified documentation.","code":""},{"path":"http://pkgs.lesscrime.info/sfhotspot/news/index.html","id":"sfhotspot-030","dir":"Changelog","previous_headings":"","what":"sfhotspot 0.3.0","title":"sfhotspot 0.3.0","text":"Added autoplot() methods plotting results produced hotspot_count(), hotspot_kde() hotspot_classify(). Added bandwidth_adjust argument hotspot_kde() hotspot_gistar() bandwidth can set relative default.","code":""},{"path":"http://pkgs.lesscrime.info/sfhotspot/news/index.html","id":"sfhotspot-022","dir":"Changelog","previous_headings":"","what":"sfhotspot 0.2.2","title":"sfhotspot 0.2.2","text":"Added checking empty geometries co-ordinates Null Island (equivalent zero co-ordinates co-ordinate systems). Empty geometries produce error zero co-ordinates produce warning.","code":""},{"path":"http://pkgs.lesscrime.info/sfhotspot/news/index.html","id":"sfhotspot-021","dir":"Changelog","previous_headings":"","what":"sfhotspot 0.2.1","title":"sfhotspot 0.2.1","text":"Fixed bug grid cells created SF object CRS defined (improved error message trying calculate KDE values circumstance). Fixed bug grid returned hotspot_*() family functions clipped convex hull data, specified documentation.","code":""},{"path":"http://pkgs.lesscrime.info/sfhotspot/news/index.html","id":"sfhotspot-020","dir":"Changelog","previous_headings":"","what":"sfhotspot 0.2.0","title":"sfhotspot 0.2.0","text":"CRAN release: 2022-02-14 Added hotspot_classify() hotspot_classify_params() functions. Added references function documentation pages DESCRIPTION file. Changed \\dontrun{} documentation examples \\donttest{}.","code":""},{"path":"http://pkgs.lesscrime.info/sfhotspot/news/index.html","id":"sfhotspot-011","dir":"Changelog","previous_headings":"","what":"sfhotspot 0.1.1","title":"sfhotspot 0.1.1","text":"Fixed problem examples documentation taking long run, caused fail CRAN checks.","code":""},{"path":"http://pkgs.lesscrime.info/sfhotspot/news/index.html","id":"sfhotspot-010","dir":"Changelog","previous_headings":"","what":"sfhotspot 0.1.0","title":"sfhotspot 0.1.0","text":"Initial release package functions hotspot_count(), hotspot_kde() hotspot_gistar().","code":""}]
